// SPDX-License-Identifier: UNLICENSED
// This is licensed under the Cryptographic Open Software License 1.0
pragma solidity ^0.8.28;

import {Test} from "forge-std/Test.sol";
import "../../src/base/Constants.sol";
import {Verifier} from "../../src/verifier/Verifier.pre.sol";

contract VerifierTest is Test {
    function verify(
        bytes calldata result,
        bytes calldata plan,
        bytes calldata proof,
        uint256[] memory tableLengths,
        uint256[] memory commitments
    ) public view {
        Verifier.__verify({
            __result: result,
            __plan: plan,
            __proof: proof,
            __tableLengths: tableLengths,
            __commitments: commitments
        });
    }

    function testSimpleFull() public view {
        uint256[] memory tableLengths = new uint256[](1);
        tableLengths[0] = 6;
        uint256[] memory commitments = new uint256[](4);
        commitments[0] = 10330259091102222580680469239495014349163118537637164875615751892418606990939;
        commitments[1] = 11920476268597659993223945595713248355766624440856258163660132291159882440306;
        commitments[2] = 11994260765248910561540716452031502208136256599213361935879450273410509855704;
        commitments[3] = 13760418268827664034425846360177624835399216842325030254024970295997593510876;
        Verifier.__verify({
            __result: hex"00000000000000010000000000000001620000000000000000000000000200000000000000000000000000000003",
            __plan: hex"0000000000000001000000000000000f6e616d6573706163652e7461626c650000000000000002000000000000000000000000000000016200000005000000000000000000000000000000016100000005000000000000000100000000000000016200000000000000000000000000000002000000000000000000000001000000010000000000000000000000050000000000000001000000000000000000000000",
            __proof: hex"0000000000000006000000000000000200000000000000010000000000000002000000000000000000000000000000000000000000000005000000000000000527a607595971e4f8531109d6bcf114838faac36652aa81d86d51f087cd08799c1095fa761ceaceb796068f4b8174492ede1e88c2f4aafee493331c267284be330078dfd5227feba93faa9a0c9c38432d6c169909d2546f8cef0b7a2108d44db71d518c19207b5ee92cca5cfe09ec5aca67af638b4205a7b650ccb9b9ecd6dd81236cd1dd5ae57dd08a8b09bd6bd3397fe4b58aa1638c554b8054dcb2d4d0297e12a7e3d2a6d11cf4e66979ea5458d24f66ba7866c43b933fd2135c2a7619901421bafb7fa626cef41c7cfe9a1b6f9037b676b372cdc89068d564807164469d950d52f9b3eb6e6128dfecdb6d6915a73443dbd1cd15ef1885ebf2a77020661db91019be6190534138bb86202e23f697bf2a9fd3f84f30e153c4253955f92055c8163b3accc834e159bf6cbb24c328d8d89773f92a3c7c2a12da75218760f529ef0000000000000000000000000000000c096bd5b6893eb8ff1b6fb0af193b2751a6f8b259349ed623b141de2ffbfd327a135175ecf992cf5a4406b60ff4907e68549ea0334701a57f14b987619b1b179d13a702cf5e6017d058d9def773b5b2a32c9c95bbfe18f4ee7de6900258e7b5ea00000000000000000000000000000000000000000000000000000000000000000994dcc795f32e5f520734b2a4461feadd253a8c09cc3bb4661717e589e629ba265736c46ecfca204a3f4cf580af4297dbb69205390d8f78b736378c25de26720304f902f1d1e7d5831beeb74f4197b686724890dfc1c65a50fa13aad1d9353e121a159b94d59fcdda1e2f8494e57a5657512155d866c3d1cbce03c09f1ac41b04e5bbb6fd857c5b8a62d40e2d2f6b0b54645672d3f62b21469256f5f21fe4eb1082e7859ecf8fb8a3bfbe42e7104d74005495dc8f3937919f3d588effc02cb4060558d0aa00dd82b73fea623cf6bfb98fa5acda0eb0ef7a5973daaf9fde0ea90e72e45f0d02367e8687c6abf6ec573759fb809d8143bc7d3dadb0b571e312510000000000000000000000000000000202d18a9ed74c3b284420040e6a6de1f34d3c1054fdebe60efe7053ef6a2955ca0a57818b27648109bc68d395d8bfa4d88f3f0b7fb3949ddfcd5e5b5733719c1b000000000000000523ea9c7cfe1b85118862e7b7ca27efe56f64ae30e11a8dfab5bca4d86f7c89422d2b08e5059b864a2fbed9fa845640d83bebd354320a638ccff53e7b901290bb144fc151355cfe6824f0beffc5d3227aeb2fa1e115db5a2f18ad0a40fcf618e60eb880a408c763605c9a66087c97d224136e44d38d969f0b0264d7ded2c5dae91eae2467f10728381027027dbd97ebc3325be57b6090d4b7d2e788bf0fa2969c000000000000000208f591f05ae49eedfa79ace2d36386764e6864d0f17f0b5941c6d7c89fba5fdb170d879abd873559051e05bc9dae4d16a7aa6034c838048dc94df145e8b669012609b244da8cdb2103814bf067025cb3fc0f632e389c9588066a45af99ab44ab04e5e2fff7878c29a1a05ed746e5716742c6ad76f843121976e53a68b231f59b00000000000000031c74cfcd36f8cb9cbae4c6b95e20baef3a274a758fb61b5fdc968276e922ad7020f917fc77708bd5164350e7300a71996848ef842f2c1975891474b7bb2be24b2c154cdbe6dce0f04f8b525685f799995a13fafe55bb18db9487df61a99823b319cb7077d6a500c7794accb1a891441400aeccfcad9782cce67255bc75c1fb80152e95d9ff0ed9c95307ff7c2507adc00be15c3cff90d1c19ff67245c312f5742acdf580fef4dd8880697f9ea1f8a97fd8b549815f9f44520902b1d68e3db0b61aaf457b5977cd3dc148045a28b5e4bbda2331072dd81a6ec17d4049113801c91f280fe57a52ba0fdba08717b52e514fb8e4626218d799e72f54254fe097bbdf22169644baf69464e4cd95090bbe310f8e4b1e83297b37b2f21a619ab3c2963f152da3d1156b4c761f6f39f02ea9f711796e396fad832f166e729601db8abd6d2d23c9cd7b676560e7c76df0fa42091f03bd0b71a141b865f0b22ac43d62733401e34e3d0c1ed1207f2155257d004c1003fbb91c416d3e4a6aa1863409036d7827cfcb1b5c1fde25d7c5e2b0db0e56ac90ea0d77b2012f9bf69e08e71dd0e29f2ba0ea3ce27d8911e8393e0ee38a37feed4642a9753e4e71f39504f626ea40e6134e1646773554bc10d280033e1003143541b59f5b22c578246a22381fa7a6ac",
            __tableLengths: tableLengths,
            __commitments: commitments
        });
    }
}
